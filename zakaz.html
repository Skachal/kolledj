<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./Zakaz.css">
    <link rel="stylesheet" href="./Footer.css">
    <title>Детали заказа | BURGER BAR</title>
</head><body>
    <div class="zakaz-container">
       <div class="tel">
        <div class="zakaz-con">
            <h2 class="zakaz-title">Детали заказа</h2>
            <div class="zakaz-items">
                <!-- Order items will be displayed here -->
            </div>
        </div>
        <div class="zakaz-summary">
            <p>Стоимость всех товаров: <span>₸0</span></p>
            <div class="pay-button-container">
                <button class="pay-button">Оплатить</button>
            </div>
        </div>
       </div>
        <div class="footer-container">
            <a href="hom.html" class="footer-icon">
                <button class="footer-icon">
                    <img src="./icons/home.png" alt="Home" />
                </button>
            </a>
            <a href="orders.html" class="footer-icon">
                <button class="footer-icon">
                    <img src="./icons/order.png" alt="Orders" />
                </button>
            </a>
            <a href="./zakaz.html" class="footer-icon">
                <button class="footer-icon cart">
                    <img src="./icons/korz.png" alt="Cart" />
                </button>
            </a>
            <a href="./loved.html" class="footer-icon">
                <button class="footer-icon">
                    <img src="./icons/fav.png" alt="Favorites" />
                </button>
            </a>
            <a href="./profile.html" class="footer-icon">
                <button class="footer-icon">
                    <img src="./icons/puser.png" alt="Profile" />
                </button>
            </a>
        </div>
    </div>

    <script>
        // Order items data with initial quantities and prices
        const orderItems = [
            { id: 1, name: "Бургер Классический", price: 1500, image: './imgHome/Chicken-burger.png', quantity: 0 },
            { id: 2, name: "Картофель Фри", price: 500, image: './imgHome/kartop.png',quantity: 0 },
            { id: 3, name: "Фрукт коктель", price: 300, image: './imgHome/koktails.png', quantity: 0 }
        ];
    
        // Function to update displayed quantities and total price
        function updateDisplay() {
            let total = 0;
            
            orderItems.forEach(item => {
                // Update quantity displayed for each item
                document.getElementById(`quantity-${item.id}`).innerText = item.quantity;
                
                // Calculate total price for all items
                total += item.price * item.quantity;
            });
    
            // Update the total price display
            document.querySelector(".zakaz-summary span").innerText = `₸${total}`;
        }
    
        // Function to increase quantity
        function increaseQuantity(itemId) {
            const item = orderItems.find(item => item.id === itemId);
            if (item) {
                item.quantity += 1;
                updateDisplay();
            }
        }
    
        // Function to decrease quantity
        function decreaseQuantity(itemId) {
            const item = orderItems.find(item => item.id === itemId);
            if (item && item.quantity > 0) { // Ensure quantity does not go below 0
                item.quantity -= 1;
                updateDisplay();
            }
        }
    
        // Initialize display with event listeners on quantity buttons
        function initializeOrderItems() {
            const zakazItemsContainer = document.querySelector(".zakaz-items");
            zakazItemsContainer.innerHTML = ''; // Clear existing items in container
    
            orderItems.forEach(item => {
                const zakazItem = document.createElement('div');
                zakazItem.classList.add('zakaz-item');
                
                zakazItem.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="item-image" />
                    <div class="item-info">
                        <h3>${item.name}</h3>
                        <p>₸${item.price}</p>
                    </div>
                    <div class="item-quantity">
                        <button id="m minus-${item.id}" class="quantity-button" onclick="decreaseQuantity(${item.id})">−</button>
                        <span id="quantity-${item.id}">${item.quantity}</span>
                        <button id="p plus-${item.id}" class="quantity-button" onclick="increaseQuantity(${item.id})">+</button>
                    </div>
                `;
    
                zakazItemsContainer.appendChild(zakazItem);
            });
    
            updateDisplay(); // Update total price on page load
        }
    
        // Run initialize function after page load
        window.onload = initializeOrderItems;
    </script>
</body>

</html>
